<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBリザルト画面読取機</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
    <script src="ocr.js"></script>
</head>
<body>

    <h1>BBリザルト画面読取機</h1>

    <!-- 画像アップロード -->
    <div class="upload-section">
        <label for="file-upload">リザルト画面をアップロードしてください</label>        
        <input type="file" id="file-upload" accept="image/*">
    </div>

    <!-- ドラッグ＆ドロップ＆画像表示エリア -->
    <div id="drop-area" class="drop-area">
        <div id="drop-text">
            画像をここにドラッグ＆ドロップまたは選択してください
        </div>
        <div id="loadingSpinner" style="display: none;">
            <img src="image/spinner.gif" alt="Loading..." />
            <p>処理中...</p>
        </div>
    </div>

    <!-- 勝敗 -->
    <div class="radio-checkbox-section">
        <div class="radio-group">
            <label><input type="radio" name="win-team-is" value="blue">
                青勝利
            </label>
            <label><input type="radio" name="win-team-is" value="red">
                赤勝利
            </label>
        </div>
        <div class="checkbox-section">
            <div>
                <input type="checkbox" id="isBreak">
                <label for="isBreak">割れ</label>
            </div>
            <div>
                <input type="checkbox" id="isCompletely">
                <label for="isCompletely">大差</label>
            </div>
            <div>
                <input type="checkbox" id="isEarly">
                <label for="isEarly">早割</label>
            </div>
        </div>
    </div>
    <div class="table-scroll">
        <div class="table-container">
            <!-- 左の青プレイヤー表 -->
            <table class="blue-table" id="blue-table">
                <thead>
                    <tr>
                        <th>青プレイヤー</th>
                        <th class="mvp-col">撃破</th>
                        <th class="mvp-col">進行</th>
                        <th class="mvp-col">コア</th>
                        <th class="mvp-col">偵察</th>
                        <th class="mvp-col">防衛</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td> </td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                </tbody>
            </table>

            <!-- 右の赤プレイヤー表 -->
            <table class="red-table" id="red-table">
                <thead>
                    <tr>
                        <th>赤プレイヤー</th>
                        <th class="mvp-col">撃破</th>
                        <th class="mvp-col">進行</th>
                        <th class="mvp-col">コア</th>
                        <th class="mvp-col">偵察</th>
                        <th class="mvp-col">防衛</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td></td> <td></td> <td></td> <td></td> <td></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <button id="load-btn" class="load-btn" onclick="aggregate()">スプレッドシート反映(工事中)</button>
    <div id="output"></div>
    <div id="croppedImagesContainer"></div> <!-- 切り出した画像の表示領域 -->
    <script src="script.js"></script>
</body>
</html>
